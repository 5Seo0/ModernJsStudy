# 13 Scope

## 13.1 스코프란?

- 스코프: 식별자가 유효한 범위
- 식별자 결정: 한 변수가 전역변수와 지역변수 모두로 선언되었을 경우에, 이름이 같은 두 개의 변수 중에서 어떤 변수를 참조할지 결정하는 과정
- 렉시컬 환경: 코드가 어디서 실행되며 주변에 어떤 코드가 있는지

- 원칙적으로 식별자인 변수 이름은 중복될 수 없다. 즉, 하나의 값은 유일한 식별자에 연결되어야 한다.
- 프로그래밍 언어에서는 스코프를 통해 식별자인 변수 이름의 충돌을 방지하여 같은 이름의 변수를 사용할 수 있다. 스코프 내에서 식별자는 유일해야 하지만 다른 스코프에는 같은 이름의 식별자를 사용할 수 있다.

## 13.2 스코프의 종류

- 전역 변수: 전역에서 선언되어 전역 스코프를 갖는 변수
- 지역 변수: 지역에서 선언되어 지역 스코프를 갖는 변수
- 스코프 체인: 스코프의 계층적 구조

### 13.2.1 전역과 전역 스코프

- 전역: 코드의 가장 바깥 영역

- 전역 변수는 어디서든지 참조할 수 있다.

### 13.2.2 지역과 지역 스코프

- 지역: 함수 몸체 내부 영역

- 지역 변수는 자신의 지역 스코프와 하위 지역(중첩 함수의 경우) 스코프에서 유효하다.

## 13.3 스코프 체인

- 함수의 중첩: 함수 몸체 내부에서 함수가 정의된 것
- 중첩 함수: 함수 몸체 내부에서 정의한 함수
- 외부 함수: 중첩 함수를 포함하는 함수
- 중첩 함수의 상위 스코프: 외부 함수의 지역 스코프
- 스코프 체인: 스코프의 계층적 구조

- 상위 스코프에서 선언한 변수는 하위 스코프에서도 참조할 수 있다.

### 13.3.1 스코프 체인에 의한 변수 검색

- 상위 소코프 체인에서 유효한 변수는 하위 스코프에서 자유롭게 참조할 수 있지만 그 반대는 불가하다.

### 13.3.2 스코프 체인에 의한 함수 검색

- 함수를 호출하면 자바스크립트 엔진은 먼저 함수를 가르키는 식별자를 검색한다.
## 13.4 함수 레벨 스코프

- 블록 레벨 스코프: 지역 스코프가 함수 몸체와 모든 코드 블록에 해당하는 것(C, 자바 등)
- 함수 레벨 스코프: 지역 스코프가 함수의 코드 블록(함수 몸체)만에 해당하는 것

## 13.5 렉시컬 스코프

- 동적 스코프: 함수의 상위 스코프가 함수가 호출된 위치에 의해 결정되는 방식
- 렉시컬 스코프(또는 정적 스코프): 함수의 상위 스코프가 함수가 정의된 위치에 의해 결정되는 방식

- 자바스크립트는 렉시컬 스코프를 따른다.
